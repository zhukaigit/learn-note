# 工作难点及总结

## 缓存与数据库一致性解决

- 先删除缓存
- 写线程更新数据库，事务提交
- 异步线程池延迟重试删除缓存
  **异步**：主要是为了不阻塞当前线程的请求
  **延迟**：主要是防止其他读线程读取旧数据，而写线程事务提交之后删除缓存，然后读线程把旧数据又load到内存
  **重试：**是为了保证能够成功将缓存清除



## 动态表单及数据校验

需求：不同的贷款产品配置不同的表单，前端根据后端提供的schema，可以动态的展示贷款记录，也可以动态生成手工录入表单

实现：后端给每一个贷款产品建一个model，通过自定注解的方式，反射生成schema。并通过hibernate volidator方式校验数据。这样可以保证每一个产品都是独立的model，减少修改而影响产线上的问题。



## 资产路由





